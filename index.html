<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>Компания "Важные дела"</title>
  <link rel="stylesheet" href="style.css">
  <link href="https://fonts.googleapis.com/css2?family=Roboto&display=swap" rel="stylesheet">
  <script defer src="https://kit.fontawesome.com/a2e0b2a6c9.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/xlsx/dist/xlsx.full.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/file-saver/dist/FileSaver.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/docx@7.2.0/build/index.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/docx/build/index.js"></script>

  <script defer src="export.js"></script>
  <script defer src="logs.js"></script>
  <script defer src="fileTree.js"></script>
  <script defer src="script.js"></script>


</head>
<body>
  <!-- Login -->
  <div id="loginView" class="view">
    <!-- <img width="150" src="picture/катенак.jpg"> -->
    <h2>Вход в систему</h2>
    <form id="loginForm">
      <div class="form-group">
        <label>Логин</label>
        <input type="text" id="username" required>
      </div>
      <div class="form-group">
        <label>Пароль</label>
        <input type="password" id="password" required>
      </div>
      <table>
        <form>
            <input type="checkbox" id="rememberMe">Запомнить меня
          </form>   
          <button type="submit" id="signin" class="btn primary">Войти</button>
          <div id="loginError" class="error"></div>
      </table>

    </form>
  </div>

  <!-- Main (hidden until login) -->
  <div id="mainView" class="view hidden">
    <!-- Nav -->
    <nav>
      <ul>
        <li><a href="#" data-view="userView">Пользователь</a></li>
        <li><a href="#" data-view="adminView" id="adminMenu">Администрирование</a></li>
        <li><a href="#" id="logoutBtn">Выход <i class="fas fa-sign-out-alt"></i></a></li>
        <li><a href="#" data-view="fileTreeView" class="hidden">Файлы</a></li>
      </ul>
    </nav>

    <!-- User Panel -->
    <div id="userView" class="panel hidden">
      <h2>Панель пользователя</h2>
      <div class="button-container">
        <select name="product" id="product">
            <option selected="selected">Изделие</option>
            <option>Деталь 1</option>
            <option>Деталь 2</option>
            <option>Деталь 3</option>
        </select>
        <select name="option" id="option">
            <option selected="selected">Операция</option>
            <option value="set1">токарная обработка</option>
            <option value="set2">шлифование</option>
            <option value="set3">контрольный замер</option>
        </select>
      </div>
      <div id="dataContainer">
        <table id="itemsTable">
            <thead>
              <tr><th>№</th><th>Название</th><th>Значение</th></tr>
            </thead>
            <tbody></tbody>
          </table>

      </div>
      <div class="button-container">
        <button type="button" id="clearBtn" class="btn">Очистить</button>
        <button type="button" id="saveBtn" class="btn">Сохранить</button>
        <button id="exportExcelBtn" class="btn">Экспорт в Excel</button>
        <button id="exportWordBtn" class="btn">Экспорт в Word</button>
      </div>

    </div>


    <!-- Admin Panel -->
    <div id="adminView" class="panel hidden">
      <h2>Управление пользователями</h2>
      <button id="addUserBtn" class="btn">Добавить</button>
      <table id="usersTable">
        <thead>
          <tr><th>Логин</th><th>Роль</th><th>Действия</th></tr>
        </thead>
        <tbody></tbody>
      </table>

      <button id="downloadLogBtn" class="btn">Скачать логи</button>
      <button id="clearLogsBtn" class="btn">Очистить логи</button>
    </div>
  </div>

  <!-- Контекстное меню -->
  <div id="contextMenu" class="context-menu hidden">
    <ul>
      <li data-action="edit">Изменить</li>
      <li data-action="delete">Удалить</li>
    </ul>
  </div>

  <div id="fileTreeView" class="panel hidden">
    <h2>Файловая структура</h2>
    <div id="fileTreeContainer"></div>
  </div>
</body>
</html>
