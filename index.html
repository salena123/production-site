<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>Компания "Важные дела"</title>
  <link rel="stylesheet" href="style.css">
  <link href="https://fonts.googleapis.com/css2?family=Roboto&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Golos+Text:wght@400..900&family=Lobster&family=Noto+Color+Emoji&family=Noto+Emoji:wght@300..700&family=Roboto&display=swap" rel="stylesheet">
  <script defer src="https://kit.fontawesome.com/a2e0b2a6c9.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/xlsx/dist/xlsx.full.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/file-saver/dist/FileSaver.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/docx@7.2.0/build/index.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/docx/build/index.js"></script>

  <script defer src="export.js"></script>
  <script defer src="logs.js"></script>
  <script defer src="fileTree.js"></script>
  <script defer src="script.js"></script>
  <script defer src="utils.js"></script>

</head>
<body class="backOn">
  <!-- Login -->
  <div id="loginView" class="view">
    <h1 class="loginText">Добро пожаловать!</h1>
    <form id="loginForm">
      <div class="form-group login-wrapper">
        <label>Логин</label>      
        <input type="text" id="username" placeholder="Введите логин" required>
        <div class="input-icon">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
            <path d="M20.4853 15.5154C19.2025 14.2274 17.6425 13.2492 15.9244 12.6554C17.1455 11.8177 18.0664 10.6112 18.5524 9.21247C19.0384 7.81374 19.064 6.2962 18.6254 4.88189C18.1869 3.46757 17.3071 2.23072 16.115 1.3523C14.9228 0.473878 13.4808 0 12 0C10.5191 0 9.07712 0.473878 7.88497 1.3523C6.69283 2.23072 5.81311 3.46757 5.37453 4.88189C4.93596 6.2962 4.96155 7.81374 5.44756 9.21247C5.93357 10.6112 6.85449 11.8177 8.07557 12.6554C5.71819 13.474 3.6741 15.006 2.227 17.0389C0.779894 19.0718 0.00155432 21.5047 0 24H1.87588C1.87588 21.3151 2.94253 18.7402 4.84116 16.8418C6.7398 14.9433 9.3149 13.8767 12 13.8767C14.6851 13.8767 17.2602 14.9433 19.1588 16.8418C21.0574 18.7402 22.1241 21.3151 22.1241 24H24C24.0038 22.4237 23.6951 20.8623 23.0919 19.406C22.4886 17.9496 21.6027 16.6273 20.4853 15.5154ZM12.5179 11.9752C11.4778 12.082 10.4301 11.8642 9.51872 11.3517C8.60736 10.8392 7.87702 10.0572 7.428 9.11294C6.97899 8.16874 6.83332 7.10869 7.01101 6.07837C7.1887 5.04806 7.68103 4.09802 8.42038 3.35873C9.15973 2.61944 10.1098 2.12715 11.1402 1.94947C12.1706 1.7718 13.2308 1.91745 14.1751 2.36643C15.1193 2.81541 15.9015 3.54569 16.414 4.45698C16.9265 5.36828 17.1444 6.41588 17.0376 7.45593C16.9177 8.61361 16.403 9.69477 15.58 10.5177C14.7569 11.3407 13.6757 11.8554 12.5179 11.9752Z" fill="#97989A"/>
          </svg>
        </div>
      </div>
      <div class="form-group password-wrapper">
        <label>Пароль</label>
        <input type="password" id="password" placeholder="Введите пароль" required>
        <button type="button" id="togglePassword">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
          <path d="M15.3566 11.3804C15.3576 10.7589 15.1854 10.1494 14.8594 9.62019C14.5334 9.09103 14.0663 8.66316 13.5107 8.38459C12.9551 8.10602 12.3329 7.98775 11.7138 8.04306C11.0947 8.09836 10.5033 8.32505 10.0059 8.6977L14.6868 13.3823C15.1218 12.8056 15.357 12.1028 15.3566 11.3804Z" fill="#97989A"/>
          <path d="M8.9799 9.94287C8.76475 10.3915 8.65315 10.8827 8.65332 11.3802C8.65381 12.2687 9.00698 13.1206 9.63524 13.7489C10.2635 14.3772 11.1155 14.7303 12.004 14.7308C12.5015 14.731 12.9927 14.6194 13.4413 14.4042L8.9799 9.94287Z" fill="#97989A"/>
          <path d="M12.004 3.00001C9.85359 2.99766 7.73552 3.52353 5.83594 4.53141L8.41903 7.1145C9.49085 6.23578 10.8511 5.78698 12.2354 5.85534C13.6197 5.92369 14.9291 6.50432 15.9092 7.48435C16.8892 8.46439 17.4698 9.77382 17.5382 11.1581C17.6065 12.5424 17.1577 13.9027 16.279 14.9745L19.0355 17.7292C20.9762 16.5013 22.5655 14.7912 23.6482 12.7659C23.8752 12.347 23.9959 11.8788 23.9998 11.4024C24.0036 10.926 23.8905 10.4559 23.6703 10.0334C22.5492 7.91096 20.8704 6.13448 18.8148 4.89516C16.7591 3.65584 14.4043 3.00061 12.004 3.00001Z" fill="#97989A"/>
          <path d="M15.078 16.0408C14.0045 16.7486 12.7196 17.0642 11.4404 16.9342C10.1611 16.8043 8.96594 16.2368 8.05671 15.3276C7.14749 14.4183 6.57997 13.2231 6.45002 11.9439C6.32008 10.6646 6.63568 9.37974 7.3435 8.30626L4.42829 5.39844C2.71797 6.60057 1.31527 8.18912 0.334095 10.0351C0.114698 10.4495 0 10.9113 0 11.3801C0 11.849 0.114698 12.3108 0.334095 12.7252C1.45601 14.8478 3.13546 16.6243 5.19173 17.8636C7.24801 19.1029 9.60328 19.758 12.0041 19.7586C13.926 19.7611 15.825 19.3416 17.567 18.5298L15.078 16.0408Z" fill="#97989A"/>
          <path d="M19.318 21.541C19.2336 21.5419 19.1499 21.5261 19.0717 21.4944C18.9935 21.4627 18.9223 21.4158 18.8623 21.3565L1.99286 4.47599C1.87175 4.35488 1.80371 4.19062 1.80371 4.01934C1.80371 3.84806 1.87175 3.6838 1.99286 3.56269C2.11398 3.44158 2.27824 3.37354 2.44952 3.37354C2.6208 3.37354 2.78506 3.44158 2.90617 3.56269L19.7756 20.4303C19.8667 20.5207 19.9288 20.6362 19.9541 20.7621C19.9794 20.8879 19.9667 21.0185 19.9177 21.1371C19.8686 21.2557 19.7855 21.3571 19.6787 21.4284C19.5719 21.4996 19.4464 21.5375 19.318 21.5373V21.541Z" fill="#97989A"/>
          </svg>
        </button>
        
      </div>
      <button type="submit" id="signin" class="btn primary">Войти</button>
    </form>
    <p class="singInText">
      Проверьте свои данные!
    </p>
  </div>

  <!-- Main (hidden until login) -->
  <div id="mainView" class="view hidden">
    <!-- Nav -->
    <nav>
      <ul>
        <li><a href="#" data-view="userView">Пользователь</a></li>
        <li><a href="#" data-view="adminView" id="adminMenu">Администрирование</a></li>
        <li><a href="#" id="logoutBtn">Выход <i class="fas fa-sign-out-alt"></i></a></li>
        <li><a href="#" data-view="fileTreeView" class="hidden">Файлы</a></li>
      </ul>
    </nav>

    <!-- User Panel -->
    <div id="userView" class="panel hidden">
      <h2>Панель пользователя</h2>
      <div class="button-container">
        <select name="product" id="product">
            <option selected="selected">Изделие</option>
            <option>Деталь 1</option>
            <option>Деталь 2</option>
            <option>Деталь 3</option>
        </select>
        <select name="option" id="option">
            <option selected="selected">Операция</option>
            <option value="set1">токарная обработка</option>
            <option value="set2">шлифование</option>
            <option value="set3">контрольный замер</option>
        </select>
      </div>
      <div id="dataContainer">
        <table id="itemsTable">
            <thead>
              <tr><th>№</th><th>Название</th><th>Значение</th></tr>
            </thead>
            <tbody></tbody>
          </table>

      </div>
      <div class="button-container">
        <button type="button" id="clearBtn" class="btn">Очистить</button>
        <button type="button" id="saveBtn" class="btn">Сохранить</button>
        <button id="exportExcelBtn" class="btn">Экспорт в Excel</button>
        <button id="exportWordBtn" class="btn">Экспорт в Word</button>
      </div>

    </div>


    <!-- Admin Panel -->
    <div id="adminView" class="panel hidden">
      <h2>Управление пользователями</h2>
      <button id="addUserBtn" class="btn">Добавить</button>
      <table id="usersTable">
        <thead>
          <tr><th>Логин</th><th>Роль</th><th>Действия</th></tr>
        </thead>
        <tbody></tbody>
      </table>

      <button id="downloadLogBtn" class="btn">Скачать логи</button>
      <button id="clearLogsBtn" class="btn">Очистить логи</button>
    </div>
  </div>

  <!-- Контекстное меню -->
  <div id="contextMenu" class="context-menu hidden">
    <ul>
      <li data-action="edit">Изменить</li>
      <li data-action="delete">Удалить</li>
    </ul>
  </div>

  <div id="fileTreeView" class="panel hidden">
    <h2>Файловая структура</h2>
    <div id="fileTreeContainer"></div>
  </div>
</body>
</html>
